#!/bin/bash

ls *.msh | cut -d _ -f 1 | sort | uniq > taxid.txt

while read x
do
for i in $x*.msh
 do
  for j in $x*.msh
   do
    mash dist $i $j
  done
done > "$x"_mashdist.txt
done < taxid.txt

